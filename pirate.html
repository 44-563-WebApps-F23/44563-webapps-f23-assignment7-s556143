<!DOCTYPE html>
<html lang="en">

<head>
    <title>Lab07Assignment</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
</head>

<body>
    <h1 style = "font-family: 'Courier New', Courier, monospace;color: darkblue;font-weight: 300;">Find the treasure by Varsha Pravallika Valavala</h1>
    <p class="lead btn btn-success"><b>Click on the locations to search for treasure, beware the traps</b></p><br><br>
    <p id="locations" class="btn btn-primary"><b>Number of locations checked is zero</b></p><br><br>
    <p class="btn btn-success" id="penalty"><b>Penalty is zero</b></p><br><br>
    <p class="btn btn-danger" onclick="help()"><b>Click for help</b></p><br><br>
    <p class="btn btn-warning" id="help"><b>Help report</b></p><br><br>

    <div class="container-sm justify-content-center">
        <div class="row">
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="1" onclick="check(0)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="2" onclick="check(1)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="3" onclick="check(2)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="4" onclick="check(3)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="5" onclick="check(4)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div></div>
        <div class="row">
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="6" onclick="check(5)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="7" onclick="check(6)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="8" onclick="check(7)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="9" onclick="check(8)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="10" onclick="check(9)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div></div>
        <div class="row">
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="11" onclick="check(10)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="12" onclick="check(11)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="13" onclick="check(12)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="14" onclick="check(13)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="15" onclick="check(14)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div></div>
        <div class="row">
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="16" onclick="check(15)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="17" onclick="check(16)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="18" onclick="check(17)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="19" onclick="check(18)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>    
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="20" onclick="check(19)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="21" onclick="check(20)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="22" onclick="check(21)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="23" onclick="check(22)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="24" onclick="check(23)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
            <div class="col-sm-2">
                <img src="treasure_location.jpg" alt="treasure"  id="25" onclick="check(24)" style="height: 100%;width: 120%;padding-bottom: 5%;">
            </div>
        </div>
    </div>
    <button type="button" class="btn btn-primary" onclick="randomGame()">
        New Game</button>

    <Script>
        let checkCount=0;
        let penalty=0;
        let lastCheck=0;
        let treasureLocation=5;
        let trapLocation =18;
        let gameOver=false;
        let ids=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25];

        function randomGame(){
            let penalty=0;
            checkCount=0;
            treasureLocation=Math.floor(Math.random()*25);
            trapLocation=Math.floor(Math.random()*25);
        }

        function check(position){
            if(gameOver) return;
            else{
                posi=ids[position];
                image= document.getElementById(posi);

                if(posi==treasureLocation){
                    image.src="treasurebox.jpg";
                    gameOver=true;
                    penalty=penalty-3;

                }
                else if(posi==trapLocation){
                    image.src="treasuretrap.jpeg";
                    gameOver=true;
                    penalty=penalty+4;

                }
                else{
                    image.src="pirateimage.jpg";
                }
            }
            checkCount=checkCount+1;
            penalty=penalty+1;
            document.getElementById("locations").innerHTML='Locations: ' +checkCount;
            document.getElementById("penalty").innerHTML='penalty: ' +penalty;
            lastCheck=position;
        }
        function help(){
            let lastRow=Math.floor(lastCheck/5);
            let lastCol=lastCheck%5;
            let tressureRow=Math.floor((treasureLocation-1)/5);
            let tressureCol=(treasureLocation-1)%5;
            
            let dist=Math.abs(lastRow-tressureRow)+Math.abs(tressureCol-lastCol);

            if(dist>2){
                document.getElementById("help").innerHTML="Step Faster";
            }
            else if(dist==2){
                document.getElementById("help").innerHTML="Close Matie";
            }
            else{
                document.getElementById("help").innerHTML="Can Smell It";
            }
            penalty=penalty+2;
            document.getElementById("penalty").innerHTML='Penalties:'+penalty;
        }
    

    </Script>

</body>

</html>